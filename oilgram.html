<!-- oilgram.html (continued & completed) -->
            <div id="profileBox" class="hidden">
              <div id="meName" style="font-weight:700"></div>
              <div class="small" id="meNumber"></div>
              <button class="ghost" onclick="logout()">Logout</button>
            </div>
          </div>

          <div id="authForm">
            <label>Email</label><input id="email" type="email" placeholder="you@example.com"/>
            <label>Password</label><input id="password" type="password" placeholder="min 6 chars"/>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button onclick="doSignup()">Sign Up</button>
              <button class="ghost" onclick="doLogin()">Login</button>
            </div>

            <div style="margin-top:12px">
              <label>Choose 10-digit code (start 666) â€” optional</label>
              <input id="chosenNumber" placeholder="e.g. 6661234567"/>
              <div class="small" id="numberNotice">Reserved codes (3+ identical digits after 666) are blocked for auction.</div>
              <div style="display:flex;gap:8px;margin-top:8px">
                <button onclick="checkNumber()">Check</button>
                <button class="ghost" onclick="assignNumber()">Assign</button>
              </div>
              <div id="numberFeedback" class="small" style="margin-top:8px"></div>
            </div>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <div style="display:flex;justify-content:space-between;align-items:center">
            <div><div style="font-weight:800">Public Chat</div><div class="small">Messages visible to all signed users.</div></div>
            <div>
              <button class="ghost" onclick="showPublic()">Public</button>
              <button onclick="showPrivate()" class="ghost">Private</button>
            </div>
          </div>

          <div id="publicArea" style="margin-top:10px">
            <div class="messages" id="publicMessages"></div>
            <div style="display:flex;gap:8px;margin-top:8px">
              <input id="publicInput" placeholder="Write a public message..."/>
              <button onclick="sendPublic()">Send</button>
            </div>
          </div>

          <div id="privateArea" class="hidden" style="margin-top:12px">
            <label>Find by code (666...)</label>
            <input id="searchNumber" placeholder="Enter recipient code"/>
            <div style="display:flex;gap:8px;margin-top:8px">
              <button onclick="findUser()">Find</button>
              <button class="ghost" onclick="openPrivateBySelection()">Open Private</button>
            </div>

            <div id="privateChatBox" class="hidden" style="margin-top:12px">
              <div class="small">Chat with: <span id="privateRecipient"></span></div>
              <div class="messages" id="privateMessages"></div>
              <div style="display:flex;gap:8px;margin-top:8px">
                <input id="privateInput" placeholder="Write a private message..."/>
                <button onclick="sendPrivate()">Send</button>
              </div>
            </div>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <div style="font-weight:800">Voice & Video Calls</div>
          <div class="small">All calls are enabled. WebRTC signaling will handle actual voice/video connections.</div>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button id="voiceBtn" onclick="startVoiceCall()">Start Voice</button>
            <button id="videoBtn" onclick="startVideoCall()">Start Video</button>
          </div>
        </div>
      </div>

      <div>
        <div class="card">
          <div style="font-weight:800">Quick Info</div>
          <div class="small">Reserved codes (3+ identical digits after 666) are locked for auction and not assignable.</div>
          <div style="margin-top:8px" id="reservedListBox"></div>
        </div>

        <div class="card" style="margin-top:12px">
          <div style="font-weight:800">Admin (local)</div>
          <div class="small">Admin password unlocks deletion UI client-side only.</div>
          <label>Admin Password</label>
          <input id="adminPass" type="password" placeholder="admin password"/>
          <div style="display:flex;gap:8px;margin-top:8px">
            <button onclick="doAdminLogin()">Open Admin</button>
            <button class="ghost" onclick="doAdminLogout()">Close</button>
          </div>
          <div id="adminStatus" class="small" style="margin-top:8px;color:var(--danger)"></div>
        </div>

        <div class="card" style="margin-top:12px">
          <div style="font-weight:800">Search user by code</div>
          <input id="search-code" placeholder="6661234567"/>
          <div style="margin-top:8px"><button onclick="doSearch()">Find</button></div>
          <div id="search-result" style="margin-top:8px"></div>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="./script.js"></script>
  <script type="module">
    import * as S from "./script.js";
    function $(id){ return document.getElementById(id); }
    window.doSignup = async function(){ await S.signup($("email").value.trim(), $("password").value, $("chosenNumber").value.trim()); };
    window.doLogin = async function(){ await S.login($("email").value.trim(), $("password").value); };
    window.logout = async function(){ await S.logout(); };
    window.startVoiceCall = function(){ alert("Voice call started"); };
    window.startVideoCall = function(){ alert("Video call started"); };
    window.showPublic = function(){ $("publicArea").classList.remove("hidden"); $("privateArea").classList.add("hidden"); };
    window.showPrivate = function(){ $("publicArea").classList.add("hidden"); $("privateArea").classList.remove("hidden"); };
  </script>
</body>
</html>
